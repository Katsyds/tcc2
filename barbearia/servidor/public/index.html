<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Barbearia</title>
    
</head>
<body>
    <header>
        <nav>
            <div class="logo">Barbearia Tradicional</div>
            <ul>
                <li><a href="#about">Sobre Nós</a></li>
                <li><a href="#services">Serviços</a></li>
                <li><a href="#gallery">Galeria</a></li>
                <li><a href="#testimonials">Depoimentos</a></li>
                <li><a href="#contact">Contato</a></li>
            </ul>
        </nav>
    </header>

    <section id="hero">
        <div class="hero-content">
            <div class="banner">
            <div class="content-container">
            <h1>Seja Bem-Vindo à Nossa Barbearia</h1>
            <p>Experimente nossos serviços premium para um visual impecável.</p>
            <a href="#contact" class="btn">Agende um Horário</a>
            </div>
            </div>
        </div>
    </section>

    <section id="about" class="content-block">
        <h2>Sobre Nós</h2>
        <p>Oferecemos os melhores serviços de barbearia, com uma equipe experiente e produtos de qualidade.</p>
    </section>

    <section id="services" class="content-block">
        <h2>Serviços</h2>
        <ul class="services-list">
            <li><span class="service-icon">&#9733;</span> Corte de Cabelo</li>
            <li><span class="service-icon">&#9733;</span> Barba e Bigode</li>
            <li><span class="service-icon">&#9733;</span> Tratamentos Faciais</li>
            <li><span class="service-icon">&#9733;</span> Massagem Capilar</li>
        </ul>
    </section>

    <section id="gallery" class="content-block">
        <h2>Galeria</h2>
        <div class="image-gallery">
            <img src="img/img4.jpg" alt="Serviço 1">
            <img src="img/img2.jpg" alt="Serviço 2">
            <img src="img/img5.jpg" alt="Serviço 3">
            <!-- Adicione mais imagens aqui -->
        </div>
    </section>

    <section id="testimonials" class="content-block">
        <h2>Depoimentos</h2>
        <div class="testimonial">
            <blockquote>
                "Excelente atendimento e profissionais competentes. Sempre saio satisfeito!"
            </blockquote>
            <p>- Cliente Satisfeito</p>
        </div>
        <div class="testimonial">
            <blockquote>
                "A barbearia oferece um ambiente acolhedor e os cortes de cabelo são impecáveis."
            </blockquote>
            <p>- Cliente Feliz</p>
        </div>
    </section>

    <section id="contact" class="content-block">
        
        <form id="reservation-form" action="/agendamento" method="POST">
            <h3>Agende um Horário</h3>
            <label for="name">Nome:</label>
            <input type="text" id="name" name="name" required>
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>
            <label for="service">Serviço:</label>
            <select id="service" name="service" required>
                <option value="corte">Corte de Cabelo</option>
                <option value="barba">Barba</option>
                <option value="cortebarba">Corte e Barba</option>
            </select>
            <label for="date">Data:</label>
            <input type="date" id="date" name="date" required>
            
            <label for="horario">Horário:</label>
            <div id="horario-buttons">
              <button class="horario-button" id="horario-10">10:00</button>
              <button class="horario-button" id="horario-11">11:00</button>
              <button class="horario-button" id="horario-11">12:00</button>
              <button class="horario-button" id="horario-11">13:00</button>
              <button class="horario-button" id="horario-11">14:00</button>
              <button class="horario-button" id="horario-11">15:00</button> 
              <button class="horario-button" id="horario-11">16:00</button> 
              <button class="horario-button" id="horario-11">17:00</button> 
              <!-- Adicione mais botões para outros horários -->
            </div>
            <button type="submit" class="btn">Agendar</button>
        </form>
        
        
    </section>

    <footer>
        <p>&copy; 2023 Barbearia Tradicional. Todos os direitos reservados.</p>
    </footer>
</body>
<script>
   let horarioSelecionado = null;

// Função para selecionar um horário quando o botão é clicado
function selecionarHorario(horario) {
    horarioSelecionado = horario;
    // Realce o botão selecionado para indicar a seleção
    const buttons = document.querySelectorAll('.horario-button');
    buttons.forEach(button => {
        button.classList.remove('selecionado');
    });
    document.getElementById(`horario-${horario}`).classList.add('selecionado');
}

// Adicione um ouvinte de evento a cada botão de horário
const buttons = document.querySelectorAll('.horario-button');
buttons.forEach(button => {
    button.addEventListener('click', () => {
        const horario = button.textContent; // Obtém o horário do botão clicado
        selecionarHorario(horario);
    });
});

// Adicione uma função para limpar a seleção quando a data é alterada
document.getElementById('date').addEventListener('change', () => {
    horarioSelecionado = null;
    const buttons = document.querySelectorAll('.horario-button');
    buttons.forEach(button => {
        button.classList.remove('selecionado');
    });
});

document.getElementById('reservation-form').addEventListener('submit', function(event) {
    event.preventDefault();

    const nome = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const servico = document.getElementById('service').value;
    const data = document.getElementById('date').value;
    const horario = horarioSelecionado; // Use o horário selecionado

    // Função para verificar se o horário está dentro do intervalo permitido (10:00 - 17:00)
    function isHorarioValido(horario) {
        const horarioData = new Date(`1970-01-01T${horario}`);
        const horarioMinimo = new Date(`1970-01-01T10:00`);
        const horarioMaximo = new Date(`1970-01-01T17:00`);
        return horarioData >= horarioMinimo && horarioData <= horarioMaximo;
    }

    // Verificar se o horário está dentro do intervalo permitido
    if (!isHorarioValido(horario)) {
        alert('Horário fora do intervalo permitido (10:00 - 17:00)');
        return; // Impede o envio do formulário
    }

    // Validar se o horário já está agendado (você pode adicionar sua própria lógica aqui)

    // Se todas as validações passarem, enviar o formulário
    const agendamentoData = {
        nome,
        email,
        servico,
        data,
        horario
    };

    fetch('/agendamento', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(agendamentoData)
    })
    .then(response => response.text())
    .then(message => {
        console.log(message);
    })
    .catch(error => {
        console.error(error);
    });
});
</script>

</html>
